<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>White Board</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Join Room Modal -->
    <div id="join-modal" class="modal">
        <div class="modal-content">
            <h2>Join White Board</h2>
            <div class="form-group">
                <label for="username-input">Your Name:</label>
                <input type="text" id="username-input" placeholder="Enter your name" autocomplete="off">
            </div>
            <div class="form-group">
                <label for="room-input">Room ID:</label>
                <input type="text" id="room-input" placeholder="Enter room ID (e.g., room1)" autocomplete="off">
            </div>
            <button id="join-btn" class="primary-btn">Join Room</button>
            <p class="hint">Tip: Share the same Room ID with others to draw together!</p>
        </div>
    </div>

    <!-- Main Application -->
    <div id="app" style="display: none;">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <h1>White Board</h1>
                <div class="room-info">
                    <span class="room-badge">Room: <span id="current-room">-</span></span>
                    <span class="user-badge">User: <span id="current-user">-</span></span>
                </div>
            </div>
            <div class="header-right">
                <div class="connection-status" id="connection-status">
                    <span class="status-dot"></span>
                    <span class="status-text">Connecting...</span>
                </div>
            </div>
        </header>

        <!-- Toolbar -->
        <div class="toolbar">
            <div class="toolbar-section">
                <button class="tool-btn active" data-tool="brush" title="Brush (B)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 19l7-7 3 3-7 7-3-3z"/>
                        <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/>
                    </svg>
                    <span>Brush</span>
                </button>
                <button class="tool-btn" data-tool="eraser" title="Eraser (E)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 20H7L2 15l9-9 9 9-5 5z"/>
                        <path d="M8.5 15.5l5-5"/>
                    </svg>
                    <span>Eraser</span>
                </button>
            </div>

            <div class="toolbar-section">
                <label class="toolbar-label">
                    Color:
                    <input type="color" id="color-picker" value="#000000">
                </label>
                <label class="toolbar-label">
                    Width: <span id="width-value">5</span>px
                    <input type="range" id="width-slider" min="1" max="50" value="5">
                </label>
            </div>

            <div class="toolbar-section">
                <button id="undo-btn" class="action-btn" title="Undo (Ctrl+Z)" disabled>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M3 7v6h6"/>
                        <path d="M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"/>
                    </svg>
                    Undo
                </button>
                <button id="redo-btn" class="action-btn" title="Redo (Ctrl+Y)" disabled>
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 7v6h-6"/>
                        <path d="M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"/>
                    </svg>
                    Redo
                </button>
                <button id="clear-btn" class="action-btn danger" title="Clear Canvas">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="3 6 5 6 21 6"/>
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                    </svg>
                    Clear
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Canvas Container -->
            <div class="canvas-container">
                <canvas id="canvas"></canvas>
                <!-- Cursors Container -->
                <div id="cursors-container"></div>
            </div>

            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="sidebar-section">
                    <h3>Online Users (<span id="user-count">0</span>)</h3>
                    <div id="users-list" class="users-list"></div>
                </div>

                <div class="sidebar-section">
                    <h3>Activity Feed</h3>
                    <div id="activity-feed" class="activity-feed"></div>
                </div>

                <div class="sidebar-section">
                    <h3>Keyboard Shortcuts</h3>
                    <div class="shortcuts">
                        <div class="shortcut-item">
                            <kbd>B</kbd> <span>Brush tool</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>E</kbd> <span>Eraser tool</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>Ctrl+Z</kbd> <span>Undo</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>Ctrl+Y</kbd> <span>Redo</span>
                        </div>
                    </div>
                </div>
            </aside>
        </div>
    </div>

    <!-- Socket.io Client -->
    <script src="/socket.io/socket.io.js"></script>

    <!-- Application Scripts -->
    <script src="canvas.js"></script>
    <script src="websocket.js"></script>
    <script src="main.js"></script>
</body>
</html>
